(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"46ea":function(e,t,s){"use strict";var a=s("d632"),r=s.n(a);r.a},d632:function(e,t,s){},dd7b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("mu-container",{staticClass:"login"},[s("mu-form",{ref:"form",staticClass:"mu-demo-form",attrs:{model:e.validateForm}},[s("mu-form-item",{attrs:{label:"用户名",prop:"username",rules:e.usernameRules}},[s("mu-text-field",{attrs:{prop:"username"},model:{value:e.validateForm.username,callback:function(t){e.$set(e.validateForm,"username",t)},expression:"validateForm.username"}})],1),s("mu-form-item",{attrs:{label:"密码",prop:"password",rules:e.passwordRules}},[s("mu-text-field",{attrs:{type:"password",prop:"password"},model:{value:e.validateForm.password,callback:function(t){e.$set(e.validateForm,"password",t)},expression:"validateForm.password"}})],1),s("mu-form-item",{attrs:{prop:"isAgree"}},[s("mu-checkbox",{attrs:{label:"保持7天登录"},model:{value:e.isAllLogin,callback:function(t){e.isAllLogin=t},expression:"isAllLogin"}})],1),s("mu-form-item",[s("mu-button",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("登录")]),s("mu-button",{on:{click:e.register}},[e._v("注册")])],1)],1)],1)},r=[],o=(s("cadf"),s("551c"),s("097d"),{data:function(){return{usernameRules:[{validate:function(e){return!!e},message:"必须填写用户名"},{validate:function(e){return e.length>=3},message:"用户名长度大于3"}],passwordRules:[{validate:function(e){return!!e},message:"必须填写密码"},{validate:function(e){return e.length>=3&&e.length<=15},message:"密码长度大于3小于15"}],validateForm:{username:"",password:""},isAllLogin:!1,loading:!0}},methods:{submit:function(){var e=this;this.$refs.form.validate().then(function(t){t&&(e.$progress.start(),e.$http({method:"post",url:"login",data:e.validateForm}).then(function(t){var s=t.data;s.state?(e.isAllLogin?e.set("user",s.id,7):e.set("user",s.id,1),e.$toast.success(s.message),window.localStorage.setItem("ggbengNackName",s.nackname),e.$store.commit("changeNackName",s.nackname),e.$router.push("/home/welcome")):e.$toast.warning(s.message),e.$progress.done()}).catch(function(t){e.$progress.done(),e.$toast.error(t.code)}))})},register:function(){this.$router.push("/home/register")},set:function(e,t,s){var a=new Date,r=s;a.setTime(a.getTime()+24*r*3600*1e3),document.cookie=e+"="+t+";expires="+a.toGMTString()}}}),n=o,i=(s("46ea"),s("2877")),l=Object(i["a"])(n,a,r,!1,null,null,null);l.options.__file="login.vue";t["default"]=l.exports}}]);